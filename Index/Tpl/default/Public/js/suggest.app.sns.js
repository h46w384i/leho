pmc_in_script_time_4164=new Date()*1;pmc_in_script_time_5300=new Date()*1;BB.provide("Interface",{richClass:function(B){var A=function(C){this.prop=this._createProperty();BB.ObjectH.mix(this.prop,C,true);if(this.get("autoLoad")){this.init();}return this;};BB.ObjectH.mix(A.prototype,{set:function(D,C){this.prop[D]=C;return this;},get:function(C){return this.prop[C];},init:function(){BB.CustEvent.createEvents(this,this._EVENT);for(var C in this.prop){var D=this.prop[C];D&&(typeof (D)=="object"||typeof (D)=="function")&&("init" in this.prop[C])&&this.prop[C].init();}if("_init" in this){this._init();}return this;},destroy:function(){for(var C in this.prop){var D=this.prop[C];D&&(typeof (D)=="object"||typeof (D)=="function")&&("destroy" in this.prop[C])&&this.prop[C].destroy();}if("_destroy" in this){this._destroy();}}},true);BB.ObjectH.mix(A.prototype,B||{},true);return A;}});BB.provide("CTAL",BB.Interface.richClass({_createProperty:function(){return{isShown:false,target:null,container:null,layer:null,rect:null,referEl:null,content:null,showEvent:{},hideEvent:{},autoLoad:false};},_EVENT:["show","hide","render"],_init:function(){this.set("target",BB.NodeW(this.get("target")).first());this.set("referEl",BB.NodeW(this.get("referEl")||this.get("target")).first());var G=this;var E=BB.NodeW(this.get("container"));if(E&&E.first()){E=E.first();E.setContent=function(H){this.html("");this.appendChild(H);};E.showPopup=function(){this.show();};E.hidePopup=E.hide;this.set("layer",E);}if(!this.get("layer")){this.set("layer",new BB.LayerPopup({autoPosition:false}));}if(!this.get("rect")){this.set("rect",{x:null,y:this.get("target").get("offsetHeight"),w:null,h:null});}var A=this.get("target");try{var D=this.get("showEvent");for(var B in D){A.on(B,function(){G.show();},true);}var C=this.get("showEvent");for(var B in C){A.on(B,function(){G.hide();},true);}}catch(F){}},isShown:function(){return this.get("isShown");},show:function(B,A){if(!this.isShown()){B=B||this.get("rect");this.get("layer").showPopup(B.x,B.y,B.w,B.h,A||this.get("referEl").core);this.set("isShown",true);this.fire("show");}return this;},render:function(A){this.get("layer").setContent(A||this.get("content"));this.fire("render");return this;},hide:function(){if(this.isShown()){this.get("layer").hidePopup();this.set("isShown",false);this.fire("hide");}return this;}}));BB.provide("Data",BB.Interface.richClass({_createProperty:function(){return{root:"",url:null,urlParam:{},type:["jsonp","json","array","xml"],handler:function(A){if(A.constructor&&A.constructor==Array){return A;}else{return[A];}},filter:function(){return this.get("data");},source:[],data:[],capacity:-1,autoLoad:false,_req:{cancel:function(){}}};},_init:function(){if(this.get("autoLoad")){return this.read();}},_EVENT:["datachange","itemadd","itemdelete","overflow"],filter:function(C){var D=this.get("type");for(var B in C){C[B]=encodeURIComponent(C[B]);}if(D=="jsonp"){this.read({url:BB.StringH.tmpl(C.url||this.get("url"),C)});}else{if(D=="array"||D=="json"||D=="xml"){var A=this.get("filter").apply(this,arguments);this.set("data",A).fire("datachange",{data:this.get("data")});}}},_callbackHandler:function(){var A=this;return function(){var B=A.get("handler").apply(A,arguments);A.set("data",B).set("source",B).fire("datachange",{data:A.get("data")});};},read:function(C){var E=this.get("type");var F=this.get("_req");if(E=="jsonp"){var D=this._callbackHandler();if(C){C.onsuccess=D;C.dataType="jsonp";F.cancel();F=new BB.Ajax(C);F.request();this.set("_req",F);}else{F.cancel();F=new BB.Ajax.getJSONP(this.get("url"),this.get("urlParam"),D);this.set("_req",F);}}else{if(E=="array"||E=="json"||E=="xml"){C=C||{};if("url" in C){C.onsuccess=this._callbackHandler();F.cancel();F=new BB.Ajax(C);F.request();this.set("_req",F);}else{F.cancel();F=new BB.Ajax({url:this.get("url"),method:this.get("method"),onsuccess:this._callbackHandler(),data:this.get("urlParam")});F.request();this.set("_req",F);}if((!("url" in C)&&("data" in C))||(!this.get("url")&&this.get("data").length>0)){var A;if(!("url" in C)&&("data" in C)){A=C.data;}else{A=this.get("data");}if(E=="xml"){A=BB.JSON.xmlToJSON(A);}A=this.get("handler").apply(this,[A]);var B=this.get("root");if("root" in A[0]){if(A[0][B].constructor&&A[0][B].constructor==Array){A=A[0][B];}else{A=[A[0][B]];}}this.set("data",A).set("source",A).fire("datachange",{data:o.get("data")});}}}return this;},getItem:function(A){if(A>this.getLength()-1){return false;}return this.get("data")[A];},addItem:function(A,B){var C=this.get("data").splice(A,0,B);this.set("data",C).set("source",C);this.fire("itemadd",this.getItem(A));return this;},deleteItem:function(A){var B=this.getItem(A);if(B){var C=this.get("data").splice(A,1);this.set("data",C).set("source",C);this.fire("itemdelete",B);}return this;},getLength:function(){return this.get("data").length;}}));var _keyboardControlKey={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"caps lock":20,escape:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"num lock":144,"char":-1};BB.provide("ManageKeyboard",BB.Interface.richClass({_createProperty:function(){return{target:null,_controlKey:_keyboardControlKey,autoLoad:true};},_EVENT:BB.ObjectH.keys(_keyboardControlKey),_isControlKey:function(C){var B=this.get("_controlKey");for(var A in B){if(B[A]==C){return A;}}return false;},_init:function(){this.set("target",BB.NodeW(this.get("target")).first());var A=this;this.get("target").on("keydown",function(B){A._keyEventHandler(B);});return true;},_destory:function(){delete this.prop.target;},_keyEventHandler:function(A){var B=this._isControlKey(A.keyCode);if(B){this.fire(B,A);}else{this.fire("char",A);}}}));BB.ObjectH.mix(BB.NodeW.prototype,{listenKeyboard:function(A){var E=this.first().core;E._keyboardListener=new BB.ManageKeyboard(BB.ObjectH.mix(A||{},{target:E}));var B=this.on;var C=this.un;var D=this.fire;this.on=function(H,G){var F=this.first().core;if(H.split(",")[0] in _keyboardControlKey){F._keyboardListener.on.apply(F._keyboardListener,arguments);}else{B.apply(this,arguments);}return this;};this.un=function(H,G){var F=this.first().core;if(H in _keyboardControlKey){F._keyboardListener.un.apply(F._keyboardListener,arguments);}else{C.apply(this,arguments);}return this;};this.fire=function(G){var F=this.first().core;if(G in _keyboardControlKey){F._keyboardListener.fire.apply(F._keyboardListener,arguments);}else{D.apply(this,arguments);}return this;};return this;}},false);BB.provide("PropertyChange",BB.Interface.richClass({_createProperty:function(){return{isTimerOn:false,target:null,value:"",property:"value",interval:50,timer:null,autoLoad:true};},_EVENT:["propertychange"],_init:function(){this._EVENT[0]=this.get("property")+"change";BB.CustEvent.createEvents(this,this._EVENT);},stopListen:function(){if(this.get("isTimerOn")){clearInterval(this.get("timer"));this.set("isTimerOn",false);}return true;},startListen:function(){if(!this.get("isTimerOn")){var B=this;B.set("value",B.get("target").get(B.get("property")));var A=window.setInterval(function(){var D=B.get("target").get(B.get("property"));var C=B.get("value");if(C!=D){B.set("value",D).fire(B._EVENT[0],{oldValue:C,newValue:D});}},B.get("interval"));this.set("timer",A).set("isTimerOn",true);}return true;}}));BB.ObjectH.mix(BB.NodeW.prototype,{listenPropertyChange:function(A){var E=this.first().core;E._propertyChangeListener=new PropertyChange(BB.ObjectH.mix({target:BB.NodeW(E)},A,true));var B=this.on;var C=this.un;var D=this.fire;this.on=function(H,G){var F=this.first().core;if(H==F._propertyChangeListener._EVENT[0]){F._propertyChangeListener.on.apply(F._propertyChangeListener,arguments);}else{B.apply(this,arguments);}return this;};this.un=function(H,G){var F=this.first().core;if(H==F._propertyChangeListener._EVENT[0]){F._propertyChangeListener.un.apply(F._propertyChangeListener,arguments);}else{C.apply(this,arguments);}return this;};this.fire=function(G){var F=this.first().core;if(G==F._propertyChangeListener._EVENT[0]){F._propertyChangeListener.fire.apply(F._propertyChangeListener,arguments);}else{D.apply(this,arguments);}return this;};this.startListenPropertyChange=function(){this.first().core._propertyChangeListener.startListen();return this;};this.isListeningPropertyChange=function(){return this.first().core._propertyChangeListener.get("isTimerOn");};this.stopListenPropertyChange=function(){this.first().core._propertyChangeListener.stopListen();return this;};return this;}},false);BB.provide("ListView",BB.Interface.richClass({_createProperty:function(){return{template:"",render:null,data:null,style:{selectClass:"focused",disableClass:"disabled",focusClass:"selected",touchClass:"touched"},container:BB.NodeW(document.createElement("ul")),items:[],focusIndex:-1,selectIndex:[]};},_EVENT:["render","itemfocus","itemblur","itemselect","itemtouch","itemdrag","itemdeselect","itemshow","itemhide","itemdisable","itemenable"],_init:function(){this.set("container",BB.NodeW(this.get("container")).first());var A=this;var B=this.get("data");if(B!==null){this.bindData(B);}return true;},bindData:function(B){var A=this;this.set("data",B).get("data").on("datachange",function(C){A.render(C.data);});},render:function(D){this.set("focusIndex",-1);var F=this.get("items");for(var E=0;E<F.length;E++){F[E].un();}F.length=0;var C=this.get("container");C.set("innerHTML","");var I=[];for(var E=0,G=D.length;E<G;E++){I[E]=false;}this.set("selectIndex",I);var B=this.get("template");var A=this.get("render");if(A!==null){C=BB.NodeW(A.apply(this,[D]));}else{if(B!=""){C=BB.NodeW(BB.Dom.create(BB.StringH.trim(BB.Tmpl(this.get("template"))({data:D}))));}}this.set("container",C);var H=C.query(".listview-item");for(var E=0,G=H.length;E<G;E++){F[E]=H.item(E);this._initItem(E);}this.fire("render",{data:D,ui:this.get("container")});return this;},_initItem:function(B){var C=this.getItem(B);if(C){var A=this.get("style");var D=C.data;if(A.disableClass in D){this.disableItem(B);}else{this.enableItem(B);}if(A.focusClass in D){this.focusItem(B);}if(A.selectClass in D){this.selectItem(B);}}},_bindEventToItem:function(A,B){var C=this;A.on("mouseover",function(D){C.focusItem(B,D);}).on("mouseout",function(D){C.blurItem(B,D);}).on("mousedown",function(D){C.touchItem(B,D);}).on("click",function(D){C.selectItem(B,D);});},disableItem:function(A){var B=this.getItem(A);if(B){B.ui.un();B.ui.addClass(this.get("style").disableClass);this.fire("itemdisable",{index:A});}return this;},enableItem:function(A){var B=this.getItem(A);if(B){this._bindEventToItem(B.ui,A);B.ui.removeClass(this.get("style").disableClass);this.fire("itemenable",{index:A});}return this;},getItem:function(B){var A=this.get("items");if(B<0||B>=A.length){return false;}return{index:B,ui:A[B],data:this.get("data").getItem(B)};},getLength:function(){return this.get("items").length;},getFocusItem:function(){var A=this.get("focusIndex");return this.getItem(A);},getSelectedItem:function(){var C=[];var D=this.get("selectIndex");for(var B=0,A=D.length;B<A;B++){C.push(this.getItem(B));}return C;},selectItem:function(B,A){var C=this.getItem(B);if(C){C.ui.addClass(this.get("style").selectClass);this.get("selectIndex")[B]=true;C.event=A||null;this.fire("itemselect",C);}return this;},touchItem:function(B,A){var C=this.getItem(B);if(C){C.ui.addClass(this.get("style").touchClass);C.event=A||null;this.fire("itemtouch",C);}return this;},deselectItem:function(B,A){var C=this.getItem(B);if(C){C.ui.removeClass(this.get("style").selectClass);this.get("selectIndex")[B]=false;C.event=A||null;this.fire("itemdeselect",C);}return this;},focusItem:function(D,B){var E=this.getItem(D);var A=this.get("container").query(".container-item").first();if(E){if(A){cBottom=A.getRect().bottom;iBottom=E.ui.getRect().bottom;if(iBottom>cBottom){A.core.scrollTop+=iBottom-cBottom;}cBottom=A.getRect().top;iBottom=E.ui.getRect().top;if(iBottom<cBottom){A.core.scrollTop+=iBottom-cBottom;}}var C=this.get("focusIndex");if(C!=-1){this.blurItem(C);}E.ui.addClass(this.get("style").focusClass);E.event=B||null;this.set("focusIndex",D).fire("itemfocus",E);}return this;},blurItem:function(B,A){var D=this.getItem(B);if(D){var C=this.get("focusIndex");if(C!=B){this.blurItem(C);}D.ui.removeClass(this.get("style").focusClass);D.event=A||null;this.set("focusIndex",-1).fire("itemblur",D);}return this;},hideItem:function(B,A){var C=this.getItem(B);if(C){C.ui.set("_list_view_display",C.ui.getStyle("display")||"").setStyle("display","none");C.event=A||null;this.fire("itemhide",C);}return this;},showItem:function(B,A){var C=this.getItem(B);if(C){C.ui.setStyle("display",C.ui.get("_list_view_display")||"");C.event=A||null;this.fire("itemshow",C);}return this;}}));BB.provide("Suggest",BB.Interface.richClass({_createProperty:function(){return{autoFocusFirstItem:true,index:-1,input:"",combo:null,view:null,data:null,target:null,_interval:1000,keywordFilter:function(A){return A;},_disabled:false,autoLoad:true,sugempty:false};},_EVENT:["suggest","indexchange","focus","blur"],_init:function(){var F=0;var D=this;var C=this.get("view");var A=this.get("combo");var G=this.get("data");var B=A.get("layer")._content?A.get("layer")._content:A.get("layer").core;C.bindData(G);var E=A.get("target").first().listenKeyboard().listenPropertyChange({property:"value",interval:this.get("_interval")});A.set("target",E);D.set("target",E);E.on("up",function(I){(new EventW(I.getEvent())).preventDefault();if(A.isShown()){var H=C.get("focusIndex");C.blurItem(H);if(H>-1){H--;}else{H=C.getLength()-1;}D.set("index",H).fire("indexchange",{index:H});C.focusItem(H);E.stopListenPropertyChange();}}).on("down",function(I){(new EventW(I.getEvent())).preventDefault();if(A.isShown()){var H=C.get("focusIndex");C.blurItem(H);if(H<C.getLength()-1){H++;}else{H=-1;}D.set("index",H).fire("indexchange",{index:H});C.focusItem(H);E.stopListenPropertyChange();}else{D.suggest(E.get("value"));}}).on("escape",function(H){if(A.isShown()){E.set("value",D.get("input"));A.hide();(new EventW(H.getEvent())).preventDefault();}}).on("enter,space",function(H){if(A.isShown()&&C.get("focusIndex")!=-1){C.selectItem(C.get("focusIndex"));(new EventW(H.getEvent())).preventDefault();E.core.blur();}A.hide();}).on("char,backspace",function(H){if(!E.isListeningPropertyChange()){E.startListenPropertyChange();}}).on("focus",function(H){if(F==0){if(E.get("value")!==""||D.get("sugempty")){!A.isShown()&&D.suggest();}D.fire("focus",H);}else{F=0;}E.startListenPropertyChange();}).on("blur",function(H){if(F==0){A.hide();D.fire("blur",H);}else{F=H;}E.stopListenPropertyChange();}).on("valuechange",function(H){D.set("input",H.newValue);D.suggest(H.newValue);});W(B).on("mousedown",function(H){F=1;}).on("mouseleave",function(H){if(F!=0){if(A.prop.isShown){E.core.focus();}else{D.fire("blur",F);F=0;}}});A.on("render",function(){if(D.get("autoFocusFirstItem")){C.focusItem(0);}});C.on("render",function(H){if(C.getLength()>0){A.render(H.ui.core).show();}else{A.hide();}});},suggest:function(A){if(this.get("_disabled")){return this;}A=A||this.get("target").get("value");this.set("input",A);A=this.get("keywordFilter")(A);if(A!==false){this.get("data").filter({query:BB.StringH.trim(A)});}return this;},enable:function(){this.set("_disabled",false);},disable:function(){this.set("_disabled",true);}}));BB.Suggest.Sns=function(D){var A={template:'<li class="item"><span class="key">{display}</span><span class="val">{val}</span></li>',_interval:200,handler:function(F){if(F.err=="mcphp.ok"){F.data.r.keyword=F.data.keyword;return F.data.r;}else{return[];}},referEl:null,render:null,autoFocusFirstItem:false};BB.ObjectH.mix(A,D,true);var C=NodeW(A.target).first();var E=null;if(A.url){E=new Data({type:"jsonp",url:A.url,handler:A.handler});}else{E=new Data({type:"array",data:A.data});}var B=new BB.Suggest({combo:new BB.CTAL({target:C,rect:A.rect,referEl:A.referEl,container:A.container}),view:new BB.ListView({template:A.template,render:A.render}),data:E,autoFocusFirstItem:A.autoFocusFirstItem});B.on("indexchange",function(F){if(F.index!=-1){C.set("value",B.get("view").getItem(F.index).data.val);}else{C.set("value",B.get("input"));}});B.get("view").on("itemselect",function(F){C.set("value",F.data.val);B.set("input",F.data.val);B.get("target").stopListenPropertyChange();B.get("combo").hide();});return B;};var _atKeyboardControlKey={backspaceAt:8,tabAt:9,enterAt:13,shiftAt:16,ctrlAt:17,altAt:18,"caps lockAt":20,escapeAt:27,spaceAt:32,"page upAt":33,"page downAt":34,endAt:35,homeAt:36,leftAt:37,upAt:38,rightAt:39,downAt:40,insertAt:45,deleteAt:46,f1At:112,f2At:113,f3At:114,f4At:115,f5At:116,f6At:117,f7At:118,f8At:119,f9At:120,f10At:121,f11At:122,f12At:123,"num lockAt":144,charAt:-1,backspaceNoAt:8,tabNoAt:9,enterNoAt:13,shiftNoAt:16,ctrlNoAt:17,altNoAt:18,"caps lockNoAt":20,escapeNoAt:27,spaceNoAt:32,"page upNoAt":33,"page downNoAt":34,endNoAt:35,homeNoAt:36,leftNoAt:37,upNoAt:38,rightNoAt:39,downNoAt:40,insertNoAt:45,deleteNoAt:46,f1NoAt:112,f2NoAt:113,f3NoAt:114,f4NoAt:115,f5NoAt:116,f6NoAt:117,f7NoAt:118,f8NoAt:119,f9NoAt:120,f10NoAt:121,f11NoAt:122,f12NoAt:123,"num lockNoAt":144,charNoAt:-1,changeAt:-1,focusAt:-1,blurAt:-1};BB.provide("ManageAtEvent",BB.Interface.richClass({_createProperty:function(){return{target:null,hasAt:false,value:null,_controlKey:_atKeyboardControlKey,autoLoad:true};},_EVENT:BB.ObjectH.keys(_atKeyboardControlKey),_isControlKey:function(D,B){var C=this.get("_controlKey");for(var A in C){if((C[A]==D)&&!((A.slice(-1,-4)!="NoAt")^B)){return A;}}return false;},_init:function(){this.set("target",BB.NodeW(this.get("target")).first());var A=this;this.get("target").on("keydown",function(B){A._keyEventHandler(B,A.get("hasAt"));}).on("blur",function(B){A.fire("blurAt",B);});this.get("target")[0].AtFriends.on("matchFriends",function(B){if(A.get("hasAt")){var C=A.get("value");if(C.left!=B.left||C.top!=B.top){A.fire("blurAt",C);A.fire("focusAt",B);}else{if(C.key!=B.key){A.set("value",B);A.fire("changeAt",B);}}}else{A.set("value",B);A.fire("focusAt",B);A.set("hasAt",true);}});this.get("target")[0].AtFriends.on("unMatchFriends",function(B){if(A.get("hasAt")){A.fire("blurAt",B);A.set("hasAt",false);}});return true;},_destory:function(){delete this.prop.target;},_keyEventHandler:function(A,C){var B=this._isControlKey(A.keyCode,C);if(B){this.fire(B,A);}else{this.fire("char"+(C?"At":"NoAt"),A);}}}));BB.ObjectH.mix(BB.NodeW.prototype,{listenAtEvent:function(A){var E=this.first().core;E._keyboardListener=new BB.ManageAtEvent(BB.ObjectH.mix(A||{},{target:E}));var B=this.on;var C=this.un;var D=this.fire;this.on=function(H,G){var F=this.first().core;if(H in _atKeyboardControlKey){F._keyboardListener.on.apply(F._keyboardListener,arguments);}else{B.apply(this,arguments);}return this;};this.un=function(H,G){var F=this.first().core;if(H in _atKeyboardControlKey){F._keyboardListener.un.apply(F._keyboardListener,arguments);}else{C.apply(this,arguments);}return this;};this.fire=function(G){var F=this.first().core;if(G in _atKeyboardControlKey){F._keyboardListener.fire.apply(F._keyboardListener,arguments);}else{D.apply(this,arguments);}return this;};return this;}},false);BB.provide("Suggest_At",BB.Interface.richClass({_createProperty:function(){return{autoFocusFirstItem:true,index:-1,input:"",combo:null,view:null,data:null,target:null,_interval:1000,keywordFilter:function(A){return A;},_disabled:false,autoLoad:true,sugempty:false};},_EVENT:["suggest","indexchange"],_init:function(){var F=0;var D=this;var C=this.get("view");var A=this.get("combo");var G=this.get("data");var B=A.get("layer")._content?A.get("layer")._content:A.get("layer").core;C.bindData(G);var E=A.get("target").first().listenAtEvent();A.set("target",E);D.set("target",E);E.on("upAt",function(I){(new EventW(I.getEvent())).preventDefault();if(A.isShown()){var H=C.get("focusIndex");C.blurItem(H);if(H>-1){H--;}else{H=C.getLength()-1;}D.set("index",H).fire("indexchange",{index:H});C.focusItem(H);}}).on("downAt",function(I){(new EventW(I.getEvent())).preventDefault();if(A.isShown()){var H=C.get("focusIndex");C.blurItem(H);if(H<C.getLength()-1){H++;}else{H=-1;}D.set("index",H).fire("indexchange",{index:H});C.focusItem(H);}else{D.suggest(D.get("input"));}}).on("escapeAt",function(H){if(A.isShown()){A.hide();(new EventW(H.getEvent())).preventDefault();}}).on("enterAt",function(H){if(A.isShown()){C.selectItem(C.get("focusIndex"));(new EventW(H.getEvent())).preventDefault();A.hide();}}).on("focusAt",function(I){if(F==0){var H=D.get("combo").get("target").getRect();D.get("combo").set("rect",{x:I.left-H.left,y:I.top-H.top});if(I.key!==""||this.get("sugempty")){D.suggest(I.key);}}else{F=0;}}).on("blurAt",function(H){if(F==0){A.hide();}else{F=H;}}).on("changeAt",function(H){D.suggest(H.key);});W(B).on("mousedown",function(H){F=1;}).on("mouseleave",function(H){if(F!=0){if(A.prop.isShown){E.core.focus();if(F!=0){E.core.AtFriends.fire("matchFriends");}}else{F=0;}}});A.on("render",function(){if(D.get("autoFocusFirstItem")){C.focusItem(0);}});C.on("render",function(H){if(C.getLength()>0){A.render(H.ui.core).show();}else{A.hide();}});},suggest:function(A){if(this.get("_disabled")){return this;}this.set("input",A);A=this.get("keywordFilter")(A);if(A!==false){this.get("data").filter({query:BB.StringH.trim(A)});}return this;},setValue:function(){},enable:function(){this.set("_disabled",false);},disable:function(){this.set("_disabled",true);}}));BB.SuggestAt=function(D){var A={template:'<li class="item"><span class="key">{display}</span><span class="val">{val}</span></li>',_interval:200,handler:function(F){if(F.err=="ok"){F.r.keyword=F.keyword;return F.r;}else{return[];}},referEl:null,render:null};BB.ObjectH.mix(A,D,true);var C=NodeW(A.target).first();var E=null;if(A.url){E=new Data({type:"jsonp",url:A.url,handler:A.handler});}else{E=new Data({type:"array",data:A.data});}var B=new BB.Suggest_At({combo:new BB.CTAL({target:A.target,rect:A.rect,referEl:A.referEl}),view:new BB.ListView({template:A.template,render:A.render}),data:E});B.get("view").on("itemselect",function(F){B.setValue(F.data.val,B.get("input"));B.set("input",F.data.val);B.get("combo").hide();});return B;};pmc_exec_time_5300=new Date()*1-pmc_in_script_time_5300;pmc_exec_time_4164=new Date()*1-pmc_in_script_time_4164;
