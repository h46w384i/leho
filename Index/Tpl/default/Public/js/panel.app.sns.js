pmc_in_script_time_7992=new Date()*1;(function(){function J(O,N){if(!document.body){throw new Error(["Panel","create error","Document body not found or not loaded!"]);}return this._initPanel.apply(this,arguments);}J.IFRAME_SRC=location.protocol.toLowerCase()!="https:"?"about:blank":function(){var N=document.getElementsByTagName("script");return N[N.length-1].src.match(/^.*[\/\\]/)[0]+"blank.html";}();J.prototype=function(){var R=BB.Dom,Q=BB.ObjectH;var P=100;var N=0;return{id:null,useIframe:null,draggable:false,resizable:false,visibility:false,panelRect:{},PANEL_CLASS:"panel",IFRAME_CLASS:"panel-iframe",INNER_CLASS:"panel-content",_panel:null,_content:null,_iframe:null,_initialized:false,_initPanel:function(S,O){if(this._initialized){return this;}if(R.isElement(S)){this.renderPanel(S);Q.mix(this,O||{},true);}else{Q.mix(this,S||{},true);this._createPanelBox();}this.setPanelVisible(false);this._initialized=true;if(!this._panel.id){this._panel.id=(this.id||"BAIDU_PANEL_"+(N++));}return this;},_createPanelBox:function(){this._panel=R.create('<div class="'+this.PANEL_CLASS+'"></div>');this._content=R.create('<div class="'+this.INNER_CLASS+'"></div>');this._panel.appendChild(this._content);if(this.useIframe){this._createIframe();}document.body.appendChild(this._panel);},setStyle:function(S,O){R.setStyle(this._panel,S,O);if(this._iframe){R.setStyle(this._iframe,S,O);}return this;},addClassName:function(O){R.addClass(this._panel,O);if(this._iframe){R.addClass(this._iframe,O);}},resetClassName:function(){this._panel.className=this.PANEL_CLASS;},getPanel:function(){return this._panel;},getIframe:function(){return this._iframe;},_createIframe:function(){this._iframe=R.create('<iframe class="'+this.IFRAME_CLASS+'" frameborder="0" src="'+J.IFRAME_SRC+'"></iframe>');this._panel.appendChild(this._iframe);},_chkPosCanbeFixed:function(){return !BB.Env.ie||(BB.Env.ie&&BB.Env.version>6);},_chkIframe:function(){var O=!!window.ActiveXObject&&((BB.Env.version<7&&document.getElementsByTagName("select").length)||document.getElementsByTagName("object").length);return O;},saveRect:function(O,U,S,T){O=parseInt(O,10);U=parseInt(U,10);S=parseInt(S,10);T=parseInt(T,10);if(!isNaN(O)){this.panelRect.left=O;}if(!isNaN(U)){this.panelRect.top=U;}if(!isNaN(S)){this.panelRect.width=S;}if(!isNaN(T)){this.panelRect.height=T;}return this.panelRect;},setPanelRect:function(O,U,S,T){R.setInnerRect(this._panel,O,U,S,T);if(T==null&&S!=null){T=this.getPanelAutoHeight(S);}this.saveRect(O,U,S,T);return this;},setPanelSize:function(O,S){this.saveRect(null,null,O,S);R.setSize([this._panel],O,S);return this;},setPanelXY:function(O,S){this.saveRect(O,S);R.setXY(this._panel,O,S);return this;},setPanelFullscreen:function(){var U=R.getDocRect();var O,V,S,T;O=V=0;S=U.scrollWidth;T=U.scrollHeight;R.setRect(this._panel,O,V,S,T);return this;},getPanelAutoHeight:function(S){var O=this._panel;var U=R.getStyle(O,"display");R.setStyle(O,"width",S+"px");if(U=="none"){R.setStyle(O,"display","block");}var X=R.paddingWidth(O);var V=R.borderWidth(O);var T=X[0]+X[2]+V[0]+V[2];var W=O.offsetHeight-T;R.setStyle(O,"display",U);return W;},setPanelCenter:function(U,V){if(!isNaN(parseInt(U,10))){V=this.getPanelAutoHeight(U);}this.saveRect(null,null,U,V);var T=R.getDocRect();var S=parseInt((T.width-U)/2);var W=parseInt((T.height-V)/2);if(S<0){S=0;}if(W<0){W=0;}var O=this.getPanelPosition();if("fixed"!=O){S=S+T.scrollX;W=W+T.scrollY;if(S<=T.scrollX){S=T.scrollX;}if(W<=T.scrollY){W=T.scrollY;}}R.setRect(this._panel,S,W);return this;},getPanelPosition:function(){return R.getStyle(this._panel,"position").toLowerCase();},appendToPanel:function(O){this._panel.appendChild(O);},appendToContent:function(O){this._content.appendChild(O);},showPanel:function(S,Y,U,W,V){V=R.$(V);if(R.isElement(V)){var X=R.getRect(V);var O=this.getPanelPosition();S=parseInt(S,10)||0;Y=parseInt(Y,10)||0;S+=X.left;Y+=X.top;if("fixed"==O){var T=R.getDocRect();S-=T.scrollX;Y-=T.scrollY;}}this.setPanelRect.apply(this,arguments);this.setPanelVisible(true);},autoAdjustPanelPosition:function(){var X=R.getRect(this._panel);var V=R.borderWidth(this._panel);var S=this.getPanelPosition();var U=R.getDocRect();var O=y=0;var T=U.width,W=U.height;if("fixed"!=S){O=U.scrollX;y=U.scrollY;}else{if(BB.Env.ie&&"fixed"==S){X.left-=U.scrollX;X.top-=U.scrollY;X.right-=U.scrollX;X.bottom-=U.scrollY;}}if(X.left<O){this.setStyle({left:O+"px"});}if(X.top<y){this.setStyle({top:y+"px"});}if(X.right>T+O){this.setStyle({left:(T+O-X.width-V[1]-V[3])+"px"});}if(X.bottom>W+y){this.setStyle({top:(W+y-X.height-V[0]-V[2])+"px"});}},setPanelVisible:function(O,S){O=(O===false?"none":"block");if("block"===O&&!S){R.setStyle(this._panel,"zIndex",P++);}R.setStyle(this._panel,"display",O);},hidePanel:function(){this.setPanelVisible(false);},renderPanel:function(O){var S=R.query("."+this.INNER_CLASS,O);if(!S||!R.isElement(S[0])){throw new Error(["Panel","render error","Panel inner is not a HTMLElement!"]);}this._panel=O;this._content=S[0];return this;},detectPanel:function(){if(!this._panel||!R.$(this._panel.id)){alert('很抱歉，弹出层无法正常使用。\n可能是由于浏览器开启了"浮动广告拦截功能"，请尝试关闭该功能后重试。\n\n如何关闭"浮动广告拦截功能"请参阅帮助中心FAQ。');this.dispose();return false;}return true;},disposePanel:function(){this._iframe=this._content=this._panel=null;if("function"==typeof CollectGarbage){CollectGarbage();}},detect:function(){return this.detectPanel();},show:function(){if(!this.detect()){return false;}this.showPanel();if(!this.detect()){return false;}return true;},render:function(){this.renderPanel.apply(this,arguments);},contains:function(O){return R.contains(this._panel,O);},hide:function(){return this.hidePanel();},dispose:function(){return this.disposePanel();},isVisible:function(){return this.visibility;}};}();var K=BB.ClassH.extend(function(O,N){arguments.callee.$super.apply(this,arguments);BB.CustEvent.createEvents(this,"windowresize,beforeshow,aftershow,beforehide,afterhide");this._initBaseLayer.apply(this,arguments);F.push(this);return this;},J,false);BB.ObjectH.mix(K.prototype,function(){var Q=BB.Dom,P=BB.ObjectH,N=BB.CustEvent;return{center:false,shadow:false,position:"absolute",cue:false,corner:false,resizable:false,draggable:!!BB.Drag,dragProxy:null,dragProxyClass:"drag-proxy",dragProxyClassDragging:"proxy-dragging",withDragProxy:false,buttons:null,header:true,headerClassDrag:"panel-drag-enabled",body:true,footer:true,className:"panel-t2",width:null,height:null,left:null,top:null,useIframe:null,close:false,useEscKey:false,autoPosition:true,caption:"",visibility:false,content:"",_header:null,_body:null,_footer:null,_close:null,_resize:null,_shadow:null,_cue:null,_oDD:null,_corners:[],_initialized:false,_timer:null,_delay:300,BD_CLASS:"bd",FT_CLASS:"ft",HD_CLASS:"hd",SHADOW_CLASS:"sd",CLOSE_CLASS:"close",RESIZE_CLASS:"resize",ESC_KEY_CODE:27,_initBaseLayer:function(R,O){this._initialized=false;if(Q.isElement(R)){this.render(R);P.mix(this,O||{},true);}else{P.mix(this,R||{},true);this.applyConfig(R);}this._addPopupEvent();this._initialized=true;return this;},getPopup:function(){return this._panel;},_chkPosition:function(){var O=this.position;if("fixed"==O.toLowerCase()&&!this._chkPosCanbeFixed()){O="absolute";}return O;},_addPopupEvent:function(){this.initResizable();if(this.draggable){this.initDraggable();}var R=this;var O=function(){R._timer=setTimeout(function(){clearTimeout(R._timer);if(!R.isVisible()){return ;}R.fire("windowresize");},R._delay);};var S=function(T){R.dispose();};if(!BB.Env.firefox){Q.on(window,"unload",S);}Q.on(window,"resize",O);},removeElements:function(){BB.ArrayH.map([this._corners[0],this._corners[1],this._resize,this._shadow,this._cue,this._close],function(O){if(O&&O.parentNode){Q.removeNode(O);}});if(this._footer){this._footer.innerHTML="";}},createContainer:function(){if(this._initialized==false){var O=this._chkPosition();if(this.useIframe!=null){useIframe=this.useIframe;}else{useIframe=this._chkIframe();}this.setStyle("position",O);if(this.header){this._header=Q.create('<div class="'+this.HD_CLASS+'"></div>');this.appendToContent(this._header);}if(this.body){this._body=Q.create('<div class="'+this.BD_CLASS+'"></div>');this.appendToContent(this._body);}if(this.footer){this._footer=Q.create('<div class="'+this.FT_CLASS+'"></div>');this.appendToContent(this._footer);}}this.resetClassName();this.addClassName(this.className);},appendToBody:function(O){this._body.appendChild(O);},appendToHeader:function(O){this._header.appendChild(O);},appendToFooter:function(O){this._footer.appendChild(O);},initDraggable:function(){var O=this;if(!this.header){return ;}Q.addClass(this._header,this.headerClassDrag);var S=0,T=0;if(this.shadow){S=this._shadow.offsetLeft;T=this._shadow.offsetTop;}var R=new BB.SimpleDrag({activeDelay:0,withProxy:this.withDragProxy,CLASS_PROXY_DRAGGING:this.dragProxyClassDragging,CLASS_PROXY:this.dragProxyClass,container:function(){var U=Q.getDocRect();U.left=U.scrollX;U.right=U.scrollX+U.width-S;U.top=U.scrollY;U.bottom=U.scrollY+U.height-T;return U;}},{source:this._panel,handle:this._header,proxy:this.dragProxy});},initResizable:function(){},applyConfig:function(O){this.removeElements();this.createContainer();this.createButtons();this.createCorners();this.createDirArrow();this.createShadow();this.createCloseBtn();if(this.caption){this.setCaption(this.caption);}if(this.content){this.setContent(this.content);}return this;},createButtons:function(){if(this.buttons&&this._footer){var T=this.buttons;var O=T.length;for(var S=0;S<O;S++){var R=Q.create("<button></button>");Q.set(R,T[S]);Q.appendChild(this._footer,R);}}},createCloseBtn:function(){if(this.close){var O=this;var R=function(){O.hide();};this._close=Q.create('<span class="'+this.CLOSE_CLASS+'"></span>');this.appendToPanel(this._close);Q.on(this._close,"click",R);}},createShadow:function(){if(this.shadow){this._shadow=Q.create('<span class="'+this.SHADOW_CLASS+'"></span>');this.appendToPanel(this._shadow);}},createCorners:function(){if(this.corner){this._corners[0]=Q.create('<span class="co1"></span>');this._corners[1]=Q.create('<span class="co2"></span>');this._corners[0].innerHTML=this._corners[1].innerHTML="<span></span>";this.appendToPanel(this._corners[0]);this.appendToPanel(this._corners[1]);}},createDirArrow:function(){if(this.cue){this._cue=Q.create('<span class="cue"></span>');this.appendToPanel(this._cue);}},setContent:function(O){if(typeof O=="object"){this._body.innerHTML="";this.appendToBody(O);}else{this._body.innerHTML=O;}return this._body;},setCaption:function(O){if(this._header){this._header.innerHTML="<h3>"+O+"</h3>";}},setHeader:function(O){this.setCaption(O);},setFooter:function(O){if(this._footer){this._footer.innerHTML=O;}},setPopupCenter:function(O,R){this.setPanelCenter(O,R);return this;},showPopup:function(O,U,R,T,S){O=O||this.left;U=U||this.top;R=R||this.width;T=T||this.height;this.showPanel(O,U,R,T,S);if(this.center&&!Q.isElement(S)){O=O||R||this.panelRect.width;U=U||T||this.panelRect.height;this.setPopupCenter(O,U);}if(!this.center&&this.autoPosition){this.adjustPosition();}if(isNaN(parseInt(R,10))){R=this._panel.offsetWidth;if(this._shadow){Q.setStyle(this._shadow,"width",R);}}return this;},renderPopup:function(R){var W=this;var T=this._chkPosition();this.setStyle("position",T);var O=parseInt(Q.getCurrentStyle(R,"width"),10)||0;if(O){this.width=O;}var X=Q.query("."+this.SHADOW_CLASS,R);var S=Q.query("."+this.HD_CLASS,R);var U=Q.query("."+this.BD_CLASS,R);var Y=Q.query("."+this.FT_CLASS,R);var Z=Q.query("."+this.CLOSE_CLASS,R);if(!U){throw new Error(["Popup","render error","Panel body HTMLElement can not be finded!"]);}this._shadow=X?X[0]:null;this._header=S?S[0]:null;this._body=U?U[0]:null;this._footer=Y?Y[0]:null;this._close=Z?Z[0]:null;if(this._close){var V=function(){W.hide();};Q.on(this._close,"click",V);}return this;},hidePopup:function(){this.hidePanel();return this;},getRect:function(){return this.panelRect;},getBounds:function(){return this.getRect();},setPopupRect:function(){return this.setPanelRect.apply(this,arguments);},adjustPosition:function(){this.autoAdjustPanelPosition();},disposePopup:function(){if(this){this.disposePanel();}this._header=this._body=this._footer=null;this._cue=this._shadow=this._resize=this._close=null;if("function"==typeof CollectGarbage){CollectGarbage();}},detectPopup:function(){var O=this.detectPanel();if(!O){this.dispose();}return O;},show:function(){if(!this.detect()){return false;}if(!this.fire("beforeshow")){return false;}this.showPopup.apply(this,arguments);this.visibility=true;this.fire("aftershow");if(!this.detect()){return false;}return true;},detect:function(){return this.detectPopup();},hide:function(){if(!this.detect()){return false;}if(!this.fire("beforehide")){return false;}this.hidePopup();this.visibility=false;this.fire("afterhide");if(!this.detect()){return false;}return true;},isVisible:function(){return this.visibility;},render:function(){return this.renderPopup.apply(this,arguments);},dispose:function(){this.disposePopup();}};}(),true);var M=BB.ClassH.extend(function(N){arguments.callee.$super.apply(this,arguments);BB.CustEvent.createEvents(this,"blur,aftershowtimer,afterhidetimer");this._addLayerPopupListener();if(this.timeoutListener){this._initTimeoutListener();}return this;},K,false);BB.ObjectH.mix(M.prototype,function(){var O=BB.Dom,N=BB.CustEvent;return{hideTimeout:500,showTimeout:500,hideTimer:null,timeoutListener:false,_isInitTimeoutLsr:false,showTimer:null,showTimerEvents:"mouseover",hideTimerEvents:"mouseout",_addLayerPopupListener:function(){var P=this;var Q=function(S){var R=S.target;if(!P.contains(R)&&P.visibility){if(P.visibility){P.fire("blur");P.hide();}}};O.on(document,"mousedown",Q);O.on(document,"keyup",Q);},_initTimeoutListener:function(){if(!this._isInitTimeoutLsr){var P=this;O.on(this.getPopup(),this.showTimerEvents,function(){if(!P.fire("aftershowtimer")){return ;}P.clearAllTimeout();});O.on(this.getPopup(),this.hideTimerEvents,function(){if(!P.fire("afterhidetimer")){return ;}P.delayHide();});this._isInitTimeoutLsr=true;}},delayHide:function(Q){this._initTimeoutListener();this.hideTimeout=parseInt(Q,10)||this.hideTimeout;this.clearAllTimeout();var P=this;this.hideTimer=setTimeout(function(){P.hide();},this.hideTimeout);},delayShow:function(){this._initTimeoutListener();var P=this;var Q=arguments;this.clearAllTimeout();this.showTimer=setTimeout(function(){P.show.apply(P,Q);},this.showTimeout);},clearAllTimeout:function(){clearTimeout(this.hideTimer);clearTimeout(this.showTimer);},show:function(){if(!this.detect()){return false;}if(!this.fire("beforeshow")){return false;}this.clearAllTimeout();this.showPopup.apply(this,arguments);this.visibility=true;this.fire("aftershow");if(!this.detect()){return false;}return true;},hide:function(){if(!this.fire("beforehide")){return false;}this.clearAllTimeout();this.hidePopup();this.visibility=false;this.fire("afterhide");return true;}};}(),true);var H=BB.ClassH.extend(function(O,N){O=O||{};N=N||{};this._initDialog(O,N);return this;},K,false);BB.ObjectH.mix(H.prototype,{close:true,modal:true,center:true,shadow:true,useEscKey:true,useIframe:null,header:true,body:true,footer:true,content:"",caption:"",className:"panel-t1",mask:null,MASK_CLASS:"mask",_initDialog:function(O,N){if(BB.Dom.isElement(O)){this.mask=new E({useIframe:N.useIframe});N.className=N.className||this.className;N.useIframe=false;}else{this.mask=new E({useIframe:O.useIframe});O.className=O.className||this.className;O.useIframe=false;}H.$super.call(this,O,N);return this;},setMaskFullscreen:function(){this.mask.setPanelFullscreen();},setDialogCenter:function(N,R,O,Q,P){this.setPopupCenter.apply(this,arguments);},showDialog:function(N,R,O,Q,P){if(this.modal){this.showMask();}else{this.hideMask();}this.showPopup.apply(this,arguments);return this;},setDialogRect:function(){return this.setPopupRect.apply(this,arguments);},showMask:function(){this.mask.show.apply(this.mask,arguments);return this.mask;},hideMask:function(){this.mask.hide();return this.mask;},hideDialog:function(){this.hidePopup();this.hideMask();},show:function(){if(!this.detect()){return false;}if(!this.fire("beforeshow")){return false;}this.showDialog.apply(this,arguments);this.visibility=true;this.fire("aftershow");if(!this.detect()){return false;}return true;},hide:function(){if(!this.fire("beforehide")){return false;}this.hideDialog();this.visibility=false;this.fire("afterhide");return true;},dispose:function(){this.disposePopup();this.mask.dispose();}},true);var G=function(){var N=null;return{getInstance:function(O){if(N){return N;}return new O();}};}();var E=BB.ClassH.extend(function(O,N){BB.CustEvent.createEvents(this,"beforeshow,aftershow");return this._initMask.apply(this,arguments);},J,false);BB.ObjectH.mix(E.prototype,function(){var P=BB.Dom,N=BB.ObjectH;return{_scrollTimer:null,_resizeTimer:null,scrollInterval:50,resizeInterval:50,leftOffset:200,topOffset:200,rightOffset:0,bottomOffset:200,MASK_CLASS:"mask",_initMask:function(Q){Q=Q||{};Q.useIframe=Q.useIframe==null?this._chkIframe():Q.useIframe;N.mix(this,Q,true);this._addMaskEvent();E.$super.call(this,Q);var O=this._chkPosCanbeFixed()?"fixed":"absolute";this.addClassName(this.MASK_CLASS);this.setStyle("position",O);return this;},_addMaskEvent:function(){var O=this;if(!this._chkPosCanbeFixed()){P.on(window,"scroll",function(){clearTimeout(O._scrollTimer);O._scrollTimer=setTimeout(function(){clearTimeout(O._scrollTimer);O.adaptBounds();},O.scrollInterval);});P.on(window,"resize",function(){clearTimeout(O._resizeTimer);O._resizeTimer=setTimeout(function(){clearTimeout(O._resizeTimer);O.adaptBounds();},O.resizeInterval);});}},adaptBounds:function(){var S=this.getPanel();if(!S){return ;}var Q=P.getStyle(S,"position").toLowerCase();if("fixed"!=Q){var R=P.getDocRect();var T=P.getRect(this.getPanel());var O=y=w=h=0;O=R.scrollX-this.leftOffset<=0?0:R.scrollX-this.leftOffset;y=R.scrollY-this.topOffset<=0?0:R.scrollY-this.topOffset;w=this.rightOffset;h=this.bottomOffset;w+=R.width;h+=R.height;if(T.width>w){w=null;}if(T.height>h){h=null;}this.setPanelRect(O,y,w,h);}else{this.setStyle("width","100%");this.setStyle("height","100%");this.setStyle("left","0");this.setStyle("top","0");}},show:function(){if(!this.detect()){return false;}if(!this.fire("beforeshow")){return false;}this.showPanel.apply(this,arguments);this.adaptBounds();this.visibility=true;if(!this.detect()){return false;}this.fire("aftershow");return true;}};}(),true);var C={WARNING:"bb-confirm-warning",SUCCESS:"bb-confirm-success",FAILURE:"bb-confirm-failure",NULL:"bb-confirm-null"};var B={OK:{key:"OK",text:"确定",retVal:1,cls:"mb-btn-ok"},CANCEL:{key:"CANCEL",text:"取消",retVal:2,cls:"mb-btn-cancel"},ABORT:{key:"ABORT",text:"放弃",retVal:3,cls:"mb-btn-abort"},RETRY:{key:"RETRY",text:"重试",retVal:4,cls:"mb-btn-retry"},IGNORE:{key:"IGNORE",text:"忽略",retVal:5,cls:"mb-btn-ignore"},YES:{key:"YES",text:"&nbsp;是&nbsp;",retVal:6,cls:"mb-btn-yes"},NO:{key:"NO",text:"&nbsp;否&nbsp;",retVal:7,cls:"mb-btn-no"}};var A=BB.ClassH.extend(function(O,N){arguments.callee.$super.apply(this,arguments);BB.CustEvent.createEvents(this,"close");return this._initMessageBox.apply(this,arguments);},H,false);BB.ObjectH.mix(A.prototype,{icon:C.WARNING,singleton:false,focusButton:null,header:false,className:"panel-t6",position:"fixed",width:500,lazyShow:false,eventArgs:{},buttons:[B.OK],_contentBox:null,_contentHeader:null,_contentBody:null,_initMessageBox:function(){this._initContentBox();if(this.caption){this.setCaption(this.caption);}if(this.content){this.setContent(this.content);}if(!this.lazyShow){this.show();}return this;},_initContentBox:function(){var P=this.buttons,O=this;this._contentBox=BB.Dom.create('<div class="'+this.icon+'"></div>');this._contentHeader=document.createElement("h4");this._contentBody=document.createElement("div");this._contentBox.appendChild(this._contentHeader);this._contentBox.appendChild(this._contentBody);this._body.appendChild(this._contentBox);if(this.buttons&&this.buttons.length){this._contentFooter=BB.Dom.create('<p class="submit"></p>');this._contentBox.appendChild(this._contentFooter);}new function N(){if(!P||!P.length){return ;}for(var Q=0;Q<P.length;Q++){if("key" in P[Q]&&"text" in P[Q]&&"retVal" in P[Q]){O[P[Q].key]=BB.Dom.create('<button class="mb-button '+P[Q].cls+'"></button>');var R=BB.Dom.create("<span>&nbsp;&nbsp;</span>");O._contentFooter.appendChild(O[P[Q].key]);O._contentFooter.appendChild(R);O[P[Q].key].innerHTML=P[Q].text;(function(S){BB.Dom.on(O[P[S].key],"click",function(T){O.eventArgs={evt:T,retVal:P[S].retVal};O.hide();});})(Q);}}};},createButtons:function(){},showDialog:function(N,R,O,Q,P){if(this.modal){this.showMask();}else{this.hideMask();}this.showPopup.apply(this,arguments);if(this.focusButton&&this.focusButton.key&&this[this.focusButton.key]){this[this.focusButton.key].focus();}return this;},hide:function(){var N=new BB.CustEvent(this,"close");BB.ObjectH.mix(N,this.eventArgs);if(!this.fire(N)){return false;}H.prototype.hide.call(this);if(this.singleton){this.dispose();}return true;},setCaption:function(N){if(this._contentHeader){this._contentHeader.innerHTML=N;}},setContent:function(N){if(!this._contentBody){return false;}if(BB.Dom.isElement(N)){this._contentBody.appendChild(N);}else{this._contentBody.innerHTML=N;}return true;}},true);BB.ObjectH.mix(A,{alert:function(N){var O={caption:"",content:"",singleton:true,buttons:[B.OK],focusButton:B.OK};O=BB.ObjectH.mix(O,N,true);return new A(O);},confirm:function(N){var O={caption:"",content:"",singleton:true,buttons:[B.OK,B.CANCEL],focusButton:B.OK};O=BB.ObjectH.mix(O,N,true);return new A(O);}},true);var L=function(N){this.constructor=arguments.callee;this.manager=N;};L.CLASSLIST={messagebox:A,layerpopup:M,dialog:H};L.prototype=function(){return{create:function(O){O=new String(O).toLowerCase();if(L.CLASSLIST[O]){var P=Array.prototype.slice.call(arguments,1);var R=L.CLASSLIST[O];var Q=function(){R.apply(this,P);};Q.prototype=R.prototype;var N=new Q;this.manager.push(N);return N;}else{}}};}();var I=function(){this.constructor=arguments.callee;this.list=[];BB.CustEvent.createEvents(this,"esc");this.bindListener();};I.prototype=function(){return{ESC_KEY_CODE:27,bindListener:function(){var N=this;var O=function(Q){var P=Q.keyCode;if(P==N.ESC_KEY_CODE){N.fire("esc");}};BB.Dom.on(document,"keydown",O);return this;},push:function(O){var N=this;O.show=function(P){return function(){N.moveLast(O);return P.apply(this,arguments);};}(O.show);this.moveLast(O);return this;},moveLast:function(N){var O=BB.ArrayH.indexOf(this.list,N);if(O==-1){this.list.push(N);return this;}if(O<this.list.length-1){this.list.splice(O,1);this.list.push(N);}return this;}};}();var F=new I();var D=new L(F);F.on("esc",function(){for(var N=F.list.length-1;N>-1;--N){if(F.list[N].visibility){F.list[N].hide();break;}}});BB.provide("Panel",J);BB.provide("BaseLayer",K);BB.provide("LayerPopup",M);BB.provide("Dialog",H);BB.provide("Singleton",G);BB.provide("Mask",E);BB.provide("MB_ICON",C);BB.provide("MB_BUTTON",B);BB.provide("MessageBox",A);BB.provide("PanelFactory",L);BB.provide("PanelManager",I);BB.provide("panelManager",F);BB.provide("panelFactory",D);})();BB.ObjectH.mix(MessageBox,{alert:function(A){var B={width:480,caption:"",content:"",singleton:true,buttons:[]};B=BB.ObjectH.mix(B,A,true);return new MessageBox(B);},confirm:function(A){var B={width:420,caption:"",content:"",singleton:true,buttons:[MB_BUTTON.OK,MB_BUTTON.CANCEL],focusButton:MB_BUTTON.OK};B=BB.ObjectH.mix(B,A,true);return new MessageBox(B);},tips:function(A){var B={width:300,close:false,className:"panel-t6 panel-mb-tips",icon:MB_ICON.SUCCESS,caption:"",content:"",singleton:true,buttons:[],onaftershow:function(){var C=this;setTimeout(function(){C.isVisible()&&C.hide();},1000);}};B=BB.ObjectH.mix(B,A,true);return new MessageBox(B);}},true);pmc_exec_time_7992=new Date()*1-pmc_in_script_time_7992;
